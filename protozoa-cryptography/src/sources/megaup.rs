use crate::ciphers::rc4::{decode_url_safe_base64, rc4, replace, reverse};

pub fn decrypt(input: &str) -> String {
	let text = &replace(
		&rc4(
			"XvxVdt4eTSnCyG",
			&decode_url_safe_base64(&reverse(&rc4(
				"ENZqBfw54cgsJ",
				&decode_url_safe_base64(&reverse(&replace(
					&rc4(
						"HCcYA9gQqxUD",
						&decode_url_safe_base64(&replace(
							&reverse(&decode_url_safe_base64(input)),
							"OdilCbZWmrtUeYg",
							"YirdmeZblOtgCWU",
						)),
					),
					"K9lQq2SsnjkObe",
					"l9j2sSnekQOqKb",
				))),
			))),
		),
		"nMW7qCTpe6SQhco",
		"nqce7WMQC6pSTho",
	);
	urlencoding::decode(text).unwrap().into_owned()
}

#[test]
fn test_decrypt() {
	let decrypted = decrypt("Z2kzaDYyWkdWRGdiM3oxaTJZSHM3c3lYamZwQ2dFeS1UQl9VYktIWVphWWJ4dFllTTRDbkdCcEk1MGIyWHpKbV85aHE0VGdSeUhoUklvYVZyYl9GYXBWRF9yaHd3NWN1cWw2M1B6LTl6clFSR2lOMVlxVXhVN2ZBelF0S0dQQUVxT3hnTFJhbTBwd01nTVE4MkpnVWZhSjZOVjBNMW93Wi1JY3R3LXRUUzB6NWtqd1lIdzE0dGY1Z1kzbUFTMDF2dFhjbzJtUjRRU3NhQTZmRGlTWGNwTWtrdWQxMU9ERjBtTmg0em15SDZiNWFjRE5xNjljUFVCbG9FMzhNX2NKR3E2ckFNSXQ4NGxiVHFpcGl4MTMzY0F1blA4RjZ4TUpnZzc5anpzRzg0VkJvVmpUZXlXNVVkREhDVi1Ud1IzZkI2cDY0U1F4ZGJGcGZMclhkQWdGT2dRUDIxV1ZSNFNVWnhwQzZ4cHB3cTQ5cGVEc1A3ak1MNXZ6aDhILXBfUi1LYTBtMnpyZC1PMjE0NkhzQkptVXdXUzhYaV9BOVUwUkZ6QlpUOTFYR2lXWVBIVWZLTHVfcFE3NENZZjRLQTZRUnYyVkx4VE5vX1Zhd3kwNTdabGdvYzhvNDBIdXRnbkZoY1RhYzdMdnRoRm92OUZ3WGZkTUlBcERCYXRXbVdONWoyUzBEYzBXejdMcE1HS2doemphTXp6dDFlQWpfNkpxeVJPb3ZGeThMeUFYeXZtYVlmR05ZMWZaWEh4VFNPQWhhZktPUjY3WWJkSnh1Y3NQXzRYRjktSGpuZEpPZ2YySVFxclJtUlNPcjdUQ2pGOU5MaS1ZZ0hTUmF4am9SQ1ljZ3BrTzljVnYyU0xfem5lVG91U3VnQUZVS0hvUnJTU3F2M3JsVjZjak9BVnZzZl9yNDZidXlyeTZWRW9rWTNmeDYzU1NCUy1BWmJxYVVTVVRnN2lQQlVhYlN5Zjk1d3k3VFBwaDY5U0dpb3BkRVdQU0NpZ2JWUUFRckt6bW5BUXJMS25iRU0zRmxCV0pTcVJaTWh1T0FVbEZ6dEtkeHl2N1RaVl9CUE93SkF5ckJVVS1GOWFhc0FwR2I2RXNONXVxUVRJOFY2YVNKLUVEQkl6S0hRa3pYemRfdmdFUGFZeWdaUS1pcWdTOVZhWUlzSURabEpqZEJFdGpkSHF4dURobFMtN3BPR1RPN3FxWlA2bUNuSkxSMzkwQmZMdlRxRlpLR2pIajU0VUZDQlNzbmRQdjFaUHlYR0o5Mktld1paTEJWQ2s0TE05VlR6M05YcmJOY2ZFejRsZlRjZ1hJcmlHc2NQelNxektWdkJ5NFdDM1F3VzlTWGRwSzZmcGxRUXRrZzB5UXJrTGpUbG1Lb1dDZkhBY1E0VEY2bl95MF9SczdJem02VnhPQnhqdVNiZVg2ekVkakNwU05YLTFLMDh6WS1hMHcwZWwyeFQtR3Nod3A5MGYyZG54bnh3c1RYRWpyQkpubDZkU21LbzdUdlVKWWUyRmNVYUJfd1p5QUpITUExRVJvZWMzdEg1aVc0U0FvbnF5NU9Sa2VySzJkYTBJUlR2QW54SGJNX1hjTkRzZXVsVlVlT2NVcmhNWkE5S0UzUkdhMUxrR1NUQ1FTMjdUSWdDaFZ4WTNnU1FMSDdoc2lKWGdZdERYaXhwQmtnNC0zVVlHdW5DaVFicHpWNlNUaDZHZEhYb19XMmRLaks4SUxjNC01am9MRVktR09USWdyZXFZd29VSThvUzBoaHdVVF9aWXBTVmp1MWV1MXZva1pQVk03NHE0WHdIN3FSRWM3VlhtSFRtRl85bTMxV1pyRXRyYTE1NHNaR082RWdZRkxNTnVvVDBDRnlQR0tFaE1sRHo4WGZHbFcteTNSLTZpQ0pwQUZsUTdRRnhOZ1VEcFN0RkRTX3RoSXB0Z0tjS0p4QVVYQ3hDaWx4MlItSFJ5RWVoRDQyVExnRTY5VDdGcHhiendPb3VabF95clFHS3JaaTdHeG9RRXJVVVI4V3pXOVE4OXd5Rk9nV000Zl9TMWc1eUs5VzNjWXh4SEJFX05IM3NsUkUyTUJyaTk1UG9jNUpmbExrMXBTb2NqdXp3OHdjMlhkUE5HQ3VMU19FYnp0emlGb2RTYy1OSDR3ektQTlFBUzZBNjVaN2pramllTTUxcmtsV244SGk5Q3pUMW1hZ1NMcEVuVVU1blpXNHpEZDZIN205bHBxTTVRU2xqSlcyZlNEamctS3JaMXp0cXhVNi1fRU80V3BKRTA3UkxScTd5WkIwdkw1TFdOaENwTDFIM0R5RDNwbWxhdm90dFpTSWRpWHFVVG13aXRyanllNHRNeXZLdmNDVlQtX3YxOUlOaVdEcW42UHo5aWR4QTlHT0RuYlFyRmh4blppaXVDc0ZYYVdndU9EZ0dXbW5pRHluR0FRTGFlVWRxTVAySG5YTlN0TTFyUmNzSENJV25oSWhNMVpxLTVraEVVZHRnMEFLS3libkNpc01KZUd5NWJlMkRuMktTdXlxenN4WG90bEE5MTNHcE1SQmRrX3ZOaWIwcUNKMlR5NVRCT3dTSG1nNFRJbTBrSVBmV19LSGJJX3R2ZHJBVV9FTmtkS1ZxdU9SNUhMankxNFNJQUstN01LSDlid3ZGT0x3VDlvdmRhUWJrZk94Snd5MnJhYXlSbG0wdWtFUF85WkVRMFBxMVpFbmYwMkZ1ZXhuM0FPalB4Wg");
	println!("{}", decrypted);
}
